{%extends 'layout/layout.html'%}
{%block title%}Creator Dashboard{%endblock%}
{%block content%}

<!-- if user have not uploaded any songs -->
{%if songs==[]%}
<div class="container  px-0 mt-10 mx-auto w-screen flex justify-center items-center">
    <div class="component1 rounded-lg p-4" style="margin: 5vh; width: 70vw; height: 70vh; display: flex; flex-direction: column;">
        
        <div class="bg-white pb-6 sm:pb-8 lg:pb-12">
            <div class="mx-auto max-w-screen-2xl px-4 md:px-8">
              
          
              <section class="min-h-96 relative flex flex-1 shrink-0 items-center justify-center overflow-hidden rounded-lg bg-gray-100 py-16 shadow-lg md:py-20 xl:py-48">
                <!-- image - start -->
                <img src="https://images.unsplash.com/photo-1510915361894-db8b60106cb1?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" loading="lazy" alt="Photo by Jefferson Santos" class="absolute inset-0 h-full w-full object-cover object-center" />
                <!-- image - end -->
          
                <!-- overlay - start -->
                <div class="absolute inset-0 bg-indigo-500 mix-blend-multiply"></div>
                <!-- overlay - end -->
          
                <!-- text start -->
                <div class="relative flex flex-col items-center p-4 sm:max-w-xl">

                  
                  <h1 class="mb-8 text-center text-4xl font-bold text-white sm:text-5xl md:mb-12 md:text-6xl">Kickstart Your Creators Journey</h1>
                  <p class="text-center text-lg text-indigo-200 sm:text-xl md:mb-8">Start With Uploading New Songs</p>
          
                  <div class="flex w-full flex-col gap-2.5 sm:flex-row sm:justify-center">
                    <a href="{{url_for('upload_song')}}" class="inline-block rounded-lg bg-indigo-500 px-8 py-3 text-center text-sm font-semibold text-white outline-none ring-indigo-300 transition duration-100 hover:bg-indigo-600 focus-visible:ring active:bg-indigo-700 md:text-base">Upload</a>
                 </div>
                </div>
                <!-- text end -->
              </section>
            </div>
          </div>
    </div>
</div>
{%else%}


<!-- if user have uploaded songs -->
<div class="py-14 m-1">
<div class="container px-0 mx-auto">
  <div class="component1 border-2 border-gray-200 rounded-lg p-4" >
      <div class="text-2xl text-gray-900 mt-6 mb-2" style="display: flex; justify-content: space-between; align-items: center;">
        <div class="font text-lg" style=" font-size: 40px;">Dashboard</div>

      </div>

      
      <div class="overflow-hidden">
        <div class="flex justify-between mx-8">

          <div class="p-3 relative">
            <div class="border-2 bg-gray-100 px-4 py-6 pt-20 rounded-lg relative h-full w-full" style="height: 300px; width: 300px;">
                <h2 class="text-lg tracking-widest title-font font-medium absolute p-1 top-0 h-full w-full left-1/2 transform -translate-x-1/2 mt-16 text-center">Total Songs Uploaded</h2>
                
                <div class="text-2xl text-gray-900 ml-10 mt-20 mb-2" style="display: flex; justify-content: space-between; align-items: center;">
                    <!-- Existing content -->
                </div>
                
                <!-- Newly added div to be centered -->
                <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 font text-lg" style="font-size: 100px;">{{dash_info['total_songs']}}</div>
            </div>
        </div>
    
            <div class="p-3 relative">
              <div class="border-2 bg-gray-100 px-4 py-6 pt-20 rounded-lg relative h-full w-full" style="height: 300px; width: 300px;">
                  <h2 class="text-lg tracking-widest title-font font-medium absolute p-1 top-0 h-full w-full left-1/2 transform -translate-x-1/2 mt-16 text-center">Average Rating</h2>
                  
                  <div class="text-2xl text-gray-900 ml-10 mt-20 mb-2" style="display: flex; justify-content: space-between; align-items: center;">
                      <!-- Existing content -->
                  </div>
                  
                  <!-- Newly added div to be centered -->
                  <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 font text-lg" style="font-size: 100px;">{{dash_info['avg_rating']}}</div>
              </div>
          </div>
    
            <div class="p-3 relative">
              <div class="border-2 bg-gray-100 px-4 py-6 pt-20 rounded-lg relative h-full w-full" style="height: 300px; width: 300px;">
                  <h2 class="text-lg tracking-widest title-font font-medium absolute p-1 top-0 h-full w-full left-1/2 transform -translate-x-1/2 mt-16 text-center">Total Albums</h2>
                  
                  <div class="text-2xl text-gray-900 ml-10 mt-20 mb-2" style="display: flex; justify-content: space-between; align-items: center;">
                      <!-- Existing content -->
                  </div>
                  
                  <!-- Newly added div to be centered -->
                  <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 font text-lg" style="font-size: 100px;">{{dash_info['total_albums']}}</div>
              </div>
          </div>
          
        </div>
    </div>
    
      

  </div>
</div>
</div>

<!-- Your Uploads -->

<div class="container px-0 mx-auto">
  <div class="component1 border-2 border-gray-200 rounded-lg p-4" style="margin-bottom:20px; ">
      <div class="text-2xl text-gray-900 mb-2" style="display: flex; justify-content: space-between; align-items: center;">
          
      <div class="text-2xl text-gray-900 mt-6 mb-2" style="display: flex; justify-content: space-between; align-items: center;">
        <div class="font text-lg" style="font-size: 40px;">Your Uploads</div>

      </div>
          <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" style="height:42px;text-align:center;align-items:center;padding: 8px 50px;">
              <a class="font-bold text-lg" href="{{url_for('upload_song')}}" style="font-size:14px; display: inline-block; width: 100%; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">Upload Songs</a>
          </button>
      </div>
      {%if songs==[]%}
      <h2 class="text-sm tracking-widest title-font mb-1 font-medium text-center" style="margin-top:20px;">No Songs Added in this Playlist</h2>
      {%endif%}

      <div style="margin-top: 40px; max-height: 30vh; overflow-y: auto;">
        {%for song in songs%}
          <div class="bg-gray-100 component1 border-2 border-gray-200 rounded-lg p-4" style="margin-bottom: 20px;">
            <label for="myAudio" class="text-2xl text-gray-900 mb-0 flex justify-between items-center cursor-pointer">
                <div class="font-bold text-lg">{{ song.songname }}</div>
                <div class="flex">
                    <button id="viewLyricsBtn" class="bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded" style="height: 42px; text-align: center; align-items: center; padding: 8px 50px;">
                        <a href="{{url_for('read_lyrics',songid=song.songid)}}" style="font-size: 14px; white-space: nowrap; overflow: hidden; display: inline-block; width: 100%; text-overflow: ellipsis;">View Lyrics</a>
                    </button>
                    <button id="editBtn" class="bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded ml-2" style="height: 42px; text-align: center; align-items: center; padding: 8px 50px;">
                        <a href="{{url_for('edit_song',songid=song.songid)}}" style="font-size: 14px; white-space: nowrap; overflow: hidden; display: inline-block; width: 100%; text-overflow: ellipsis;">Edit</a>
                    </button>
                    <button id="deleteBtn" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded ml-2" style="height: 42px; text-align: center; align-items: center; padding: 8px 50px;">
                        <a href="{{url_for('creator_delete_song',songid=song.songid)}}" style="font-size: 14px; white-space: nowrap; overflow: hidden; display: inline-block; width: 100%; text-overflow: ellipsis;">Delete</a>
                    </button>
                </div>
            </label>
          </div>
      
        {%endfor%}
      </div>
      

    </div>
      

  </div>
</div>


<!-- Your Albums -->

<div class="container px-0 mx-auto">
  <div class="component1 border-2 border-gray-200 rounded-lg p-4" style="margin-bottom:20px;">
      <div class="text-2xl text-gray-900 mb-2" style="display: flex; justify-content: space-between; align-items: center;">
          <div class="text-2xl text-gray-900 mt-6 mb-2" style="display: flex; justify-content: space-between; align-items: center;">
              <div class="font text-lg" style="font-size: 40px;">Your Albums</div>
          </div>
          <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" style="height:42px;text-align:center;align-items:center;padding: 8px 50px;">
              <a class="font-bold text-lg" href="{{url_for('create_album')}}" style="font-size:14px; display: inline-block; width: 100%; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">Create Albums</a>
          </button>
      </div>
      {% if dash_info['total_albums']==0 %}
          <h2 class="text-sm tracking-widest title-font mb-1 font-medium text-center" style="margin-top:20px;">No Albums Created Till Now</h2>
      {% endif %}
      <div style="margin-top: 40px; max-height: 30vh; overflow-y: auto;">
          {% for album in albums %}
              <div class="bg-gray-100 component1 border-2 border-gray-200 rounded-lg p-4" style="margin-bottom: 20px;">
                  <label for="myAudio" class="text-2xl text-gray-900 mb-0 flex justify-between items-center cursor-pointer">
                      <div class="font-bold text-lg">{{album.albumname}}</div>
                      <div class="flex">
                          <button id="viewLyricsBtn" class="bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded" style="height: 42px; text-align: center; align-items: center; padding: 8px 50px;">
                              <a href="{{url_for('view_album',albumid=album.albumid)}}" style="font-size: 14px; white-space: nowrap; overflow: hidden; display: inline-block; width: 100%; text-overflow: ellipsis;">View Album</a>
                          </button>
                          <button id="editBtn" class="bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded ml-2" style="height: 42px; text-align: center; align-items: center; padding: 8px 50px;">
                              <a href="{{url_for('edit_album',albumid=album.albumid)}}" style="font-size: 14px; white-space: nowrap; overflow: hidden; display: inline-block; width: 100%; text-overflow: ellipsis;">Edit</a>
                          </button>
                          <button id="deleteBtn" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded ml-2" style="height: 42px; text-align: center; align-items: center; padding: 8px 50px;">
                              <a href="{{url_for('delete_album',albumid=album.albumid)}}" style="font-size: 14px; white-space: nowrap; overflow: hidden; display: inline-block; width: 100%; text-overflow: ellipsis;">Delete</a>
                          </button>
                      </div>
                  </label>
              </div>
          {% endfor %}
      </div>
  </div>
</div>

{%endif%}





{%endblock%}